<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@ldesign/icons - Lit / Web Components 示例</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%);
      transition: all 0.3s ease;
    }

    body.dark {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #e5e7eb;
    }

    .app-container {
      min-height: 100vh;
    }

    /* Header */
    .header {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 40px 20px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 100;
      transition: all 0.3s ease;
    }

    body.dark .header {
      background: rgba(26, 26, 46, 0.9);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .title-section {
      text-align: left;
    }

    h1 {
      font-size: 48px;
      font-weight: 800;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #666;
      font-size: 18px;
      margin-bottom: 12px;
      font-weight: 500;
    }

    body.dark .subtitle {
      color: #9ca3af;
    }

    .stats {
      display: flex;
      gap: 24px;
      font-size: 14px;
      color: #999;
    }

    body.dark .stats {
      color: #6b7280;
    }

    .header-actions {
      display: flex;
      gap: 12px;
    }

    .icon-btn {
      padding: 12px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    body.dark .icon-btn {
      background: #2d3748;
      border-color: #4a5568;
      color: #e5e7eb;
    }

    .icon-btn:hover {
      border-color: #667eea;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(102, 126, 234, 0.2);
    }

    /* Controls */
    .controls {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .search-box {
      position: relative;
      max-width: 600px;
    }

    .search-input {
      width: 100%;
      padding: 14px 45px 14px 48px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
      background: white;
    }

    body.dark .search-input {
      background: #2d3748;
      border-color: #4a5568;
      color: #e5e7eb;
    }

    .search-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    .categories {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .category-btn {
      padding: 10px 18px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 14px;
      font-weight: 500;
    }

    body.dark .category-btn {
      background: #2d3748;
      border-color: #4a5568;
      color: #e5e7eb;
    }

    .category-btn:hover {
      border-color: #667eea;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(102, 126, 234, 0.15);
    }

    .category-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: transparent;
    }

    .controls-row {
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
    }

    .control-group {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 14px;
      font-weight: 500;
    }

    .control-group label {
      min-width: 80px;
    }

    .control-group input[type='range'] {
      width: 150px;
      cursor: pointer;
    }

    .value {
      min-width: 70px;
      padding: 6px 12px;
      background: #f3f4f6;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
    }

    body.dark .value {
      background: #374151;
    }

    /* Icon Grid */
    .icon-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
    }

    .icon-card {
      background: white;
      border: 2px solid #e5e7eb;
      border-radius: 16px;
      padding: 24px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    body.dark .icon-card {
      background: #2d3748;
      border-color: #4a5568;
    }

    .icon-card:hover {
      border-color: #667eea;
      box-shadow: 0 12px 24px rgba(102, 126, 234, 0.15);
      transform: translateY(-4px);
    }

    .icon-preview {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 80px;
      margin-bottom: 16px;
    }

    .icon-info {
      text-align: center;
      margin-bottom: 12px;
    }

    .icon-name {
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
      font-size: 14px;
    }

    body.dark .icon-name {
      color: #e5e7eb;
    }

    .icon-category {
      font-size: 12px;
      color: #999;
    }

    body.dark .icon-category {
      color: #9ca3af;
    }

    .empty {
      text-align: center;
      padding: 80px 20px;
      color: #999;
      grid-column: 1 / -1;
    }

    .empty p {
      margin-top: 20px;
      font-size: 18px;
      font-weight: 500;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal.show {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 24px;
      padding: 40px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    }

    body.dark .modal-content {
      background: #2d3748;
    }

    .close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #f3f4f6;
      border: none;
      cursor: pointer;
      padding: 10px;
      border-radius: 8px;
      transition: all 0.2s;
    }

    body.dark .close-btn {
      background: #374151;
      color: #e5e7eb;
    }

    .close-btn:hover {
      background: #667eea;
      color: white;
    }

    .modal-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .icon-large {
      margin-bottom: 16px;
      padding: 24px;
      background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
      border-radius: 16px;
      display: inline-flex;
    }

    body.dark .icon-large {
      background: linear-gradient(135deg, #374151 0%, #4a5568 100%);
    }

    .modal-header h2 {
      margin-top: 8px;
      color: #333;
      font-size: 28px;
      font-weight: 700;
    }

    body.dark .modal-header h2 {
      color: #e5e7eb;
    }

    .code-section {
      margin-bottom: 24px;
    }

    .code-section h3 {
      font-size: 16px;
      font-weight: 600;
      color: #666;
      margin-bottom: 12px;
    }

    body.dark .code-section h3 {
      color: #9ca3af;
    }

    .code-section pre {
      background: #f5f7fa;
      padding: 20px;
      border-radius: 12px;
      overflow-x: auto;
      border: 2px solid #e5e7eb;
    }

    body.dark .code-section pre {
      background: #1a1a2e;
      border-color: #4a5568;
    }

    .code-section code {
      font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.8;
      color: #333;
    }

    body.dark .code-section code {
      color: #e5e7eb;
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: rgba(102, 126, 234, 0.95);
      color: white;
      padding: 16px 24px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      display: none;
      align-items: center;
      gap: 12px;
      font-weight: 500;
      z-index: 2000;
      backdrop-filter: blur(10px);
    }

    .toast.show {
      display: flex;
    }

    /* Loading */
    .loading {
      text-align: center;
      padding: 40px;
      color: #666;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
      }

      .title-section {
        text-align: center;
      }

      h1 {
        font-size: 36px;
      }

      .controls-row {
        flex-direction: column;
      }

      .icon-container {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }

      .modal-content {
        padding: 24px;
      }
    }
  </style>
</head>

<body>
  <div class="app-container">
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <div class="title-section">
          <h1>@ldesign/icons</h1>
          <p class="subtitle">Lit / Web Components 图标库示例 - 347+ 精美图标</p>
          <div class="stats">
            <span id="stats-filtered">0</span>
            <span id="stats-total">0 个图标</span>
            <span id="stats-categories">0 个分类</span>
          </div>
        </div>
        <div class="header-actions">
          <button class="icon-btn" id="theme-toggle" title="切换主题">
            <ld-icon-moon size="20"></ld-icon-moon>
          </button>
        </div>
      </div>
    </div>

    <!-- Controls -->
    <div class="controls">
      <div class="search-box">
        <input type="text" id="search-input" class="search-input" placeholder="搜索图标名称、分类或标签..." />
      </div>

      <div class="categories" id="categories"></div>

      <div class="controls-row">
        <div class="control-group">
          <label>大小:</label>
          <input type="range" id="icon-size" min="16" max="64" value="32" />
          <span class="value" id="size-value">32px</span>
        </div>

        <div class="control-group">
          <label>描边宽度:</label>
          <input type="range" id="stroke-width" min="0.5" max="4" step="0.5" value="2" />
          <span class="value" id="stroke-value">2</span>
        </div>

        <div class="control-group">
          <label>颜色:</label>
          <input type="color" id="icon-color" value="#333333" />
          <span class="value" id="color-value">#333333</span>
        </div>
      </div>
    </div>

    <!-- Icon Grid -->
    <div class="icon-container" id="icon-grid">
      <div class="loading">加载中...</div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
      <div class="modal-content">
        <button class="close-btn" id="close-modal">
          <ld-icon-close></ld-icon-close>
        </button>

        <div class="modal-header">
          <div class="icon-large" id="modal-icon"></div>
          <h2 id="modal-title">IconName</h2>
        </div>

        <div class="code-section">
          <h3>基础用法</h3>
          <pre><code id="code-basic"></code></pre>
        </div>

        <div class="code-section">
          <h3>自定义属性</h3>
          <pre><code id="code-advanced"></code></pre>
        </div>
      </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
      <ld-icon-check size="16"></ld-icon-check>
      <span id="toast-message"></span>
    </div>
  </div>

  <script type="module">
    // 导入图标
    import '../../src/lit/index.ts'
    import metadata from '../../src/metadata.json'

    // 全局状态
    const state = {
      isDarkMode: false,
      searchQuery: '',
      selectedCategory: 'all',
      iconSize: 32,
      strokeWidth: 2,
      iconColor: '#333333',
      selectedIcon: null,
      metadata: metadata
    }

    // 分类名称
    const categoryNames = {
      general: '通用',
      editing: '编辑',
      navigation: '导航',
      media: '媒体',
      status: '状态',
      file: '文件',
      communication: '通讯',
      business: '商务',
      weather: '天气',
      devices: '设备',
    }

    // 获取分类
    const categories = [...new Set(metadata.map(i => i.category))].sort()

    // 过滤图标
    function getFilteredIcons() {
      let icons = state.metadata

      if (state.selectedCategory !== 'all') {
        icons = icons.filter(i => i.category === state.selectedCategory)
      }

      if (state.searchQuery) {
        const query = state.searchQuery.toLowerCase()
        icons = icons.filter(i =>
          i.name.includes(query) ||
          i.componentName.toLowerCase().includes(query) ||
          i.category.toLowerCase().includes(query) ||
          i.tags.some(tag => tag.toLowerCase().includes(query))
        )
      }

      return icons
    }

    // 获取分类计数
    function getCategoryCount(cat) {
      if (cat === 'all') return state.metadata.length
      return state.metadata.filter(i => i.category === cat).length
    }

    // 渲染分类
    function renderCategories() {
      const container = document.getElementById('categories')
      const cats = ['all', ...categories]

      container.innerHTML = cats.map(cat => `
        <button 
          class="category-btn ${state.selectedCategory === cat ? 'active' : ''}"
          data-category="${cat}"
        >
          ${cat === 'all' ? '全部' : categoryNames[cat] || cat}
        </button>
      `).join('')

      // 绑定事件
      container.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          state.selectedCategory = btn.dataset.category
          renderCategories()
          renderIcons()
        })
      })
    }

    // 渲染图标
    function renderIcons() {
      const container = document.getElementById('icon-grid')
      const filteredIcons = getFilteredIcons()

      if (filteredIcons.length === 0) {
        container.innerHTML = `
          <div class="empty">
            <ld-icon-search size="64" color="#ccc"></ld-icon-search>
            <p>未找到匹配的图标</p>
          </div>
        `
        updateStats(0)
        return
      }

      container.innerHTML = filteredIcons.map(icon => `
        <div class="icon-card" data-icon='${JSON.stringify(icon)}'>
          <div class="icon-preview">
            <ld-icon-${icon.name} 
              size="${state.iconSize}" 
              color="${state.iconColor}"
              stroke-width="${state.strokeWidth}"
              ${icon.name === 'loading' || icon.name === 'loader' || icon.name === 'loader-2' ? 'spin' : ''}
            ></ld-icon-${icon.name}>
          </div>
          <div class="icon-info">
            <div class="icon-name">${icon.componentName}</div>
            <div class="icon-category">${categoryNames[icon.category]}</div>
          </div>
        </div>
      `).join('')

      // 绑定事件
      container.querySelectorAll('.icon-card').forEach(card => {
        card.addEventListener('click', () => {
          const icon = JSON.parse(card.dataset.icon)
          showModal(icon)
        })
      })

      updateStats(filteredIcons.length)
    }

    // 更新统计
    function updateStats(filtered) {
      document.getElementById('stats-filtered').textContent = `${filtered} / ${state.metadata.length} 个图标`
      document.getElementById('stats-total').style.display = 'none'
      document.getElementById('stats-categories').textContent = `${categories.length} 个分类`
    }

    // 显示模态框
    function showModal(icon) {
      state.selectedIcon = icon
      const modal = document.getElementById('modal')
      const iconLarge = document.getElementById('modal-icon')
      const title = document.getElementById('modal-title')
      const codeBasic = document.getElementById('code-basic')
      const codeAdvanced = document.getElementById('code-advanced')

      iconLarge.innerHTML = `<ld-icon-${icon.name} size="80" color="#1890ff" stroke-width="2"></ld-icon-${icon.name}>`
      title.textContent = `${icon.componentName}Icon`

      codeBasic.textContent = `<script type="module">
  import '@ldesign/icons/lit'
  </script>

  <ld-icon-${icon.name}></ld-icon-${icon.name}>`

  codeAdvanced.textContent = `<ld-icon-${icon.name} size="24" color="#1890ff" stroke-width="2"
    rotate="45"></ld-icon-${icon.name}>`

  modal.classList.add('show')
  }

  // 隐藏模态框
  function hideModal() {
  document.getElementById('modal').classList.remove('show')
  }

  // 显示 Toast
  function showToast(message) {
  const toast = document.getElementById('toast')
  const toastMessage = document.getElementById('toast-message')
  toastMessage.textContent = message
  toast.classList.add('show')
  setTimeout(() => {
  toast.classList.remove('show')
  }, 2000)
  }

  // 切换主题
  function toggleTheme() {
  state.isDarkMode = !state.isDarkMode
  document.body.classList.toggle('dark', state.isDarkMode)
  const themeIcon = document.querySelector('#theme-toggle ld-icon-moon, #theme-toggle ld-icon-sun')
  if (state.isDarkMode) {
  themeIcon.outerHTML = '<ld-icon-sun size="20"></ld-icon-sun>'
  } else {
  themeIcon.outerHTML = '<ld-icon-moon size="20"></ld-icon-moon>'
  }
  }

  // 初始化
  function init() {
  // 渲染分类和图标
  renderCategories()
  renderIcons()

  // 搜索
  document.getElementById('search-input').addEventListener('input', (e) => {
  state.searchQuery = e.target.value
  renderIcons()
  })

  // 大小控制
  document.getElementById('icon-size').addEventListener('input', (e) => {
  state.iconSize = e.target.value
  document.getElementById('size-value').textContent = `${e.target.value}px`
  renderIcons()
  })

  // 描边宽度控制
  document.getElementById('stroke-width').addEventListener('input', (e) => {
  state.strokeWidth = e.target.value
  document.getElementById('stroke-value').textContent = e.target.value
  renderIcons()
  })

  // 颜色控制
  document.getElementById('icon-color').addEventListener('input', (e) => {
  state.iconColor = e.target.value
  document.getElementById('color-value').textContent = e.target.value
  renderIcons()
  })

  // 主题切换
  document.getElementById('theme-toggle').addEventListener('click', toggleTheme)

  // 关闭模态框
  document.getElementById('close-modal').addEventListener('click', hideModal)
  document.getElementById('modal').addEventListener('click', (e) => {
  if (e.target.id === 'modal') hideModal()
  })

  // 初始统计
  updateStats(state.metadata.length)
  }

  // 启动应用
  init()
  </script>
</body>

</html>